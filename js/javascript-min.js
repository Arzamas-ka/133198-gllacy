const ready=()=>{const a=document.querySelectorAll('.field'),b=document.querySelector('.address__btn'),c=document.querySelector('.overlay'),d=document.querySelector('.feedback'),e=document.querySelector('.feedback__close-btn'),f=document.querySelector('[name=feedback-name]'),g=d.querySelector('form'),h=d.querySelector('.feedback__email'),i=localStorage.getItem('name');for(const j of a)j.addEventListener('blur',k=>{k.target.value?k.target.classList.add('filled'):k.target.classList.remove('filled')});b.addEventListener('click',function(j){j.preventDefault(),c.classList.add('overlay--show'),d.classList.add('feedback--show'),i?(f.classList.add('filled'),f.value=i,h.focus()):f.focus()}),e.addEventListener('click',function(j){j.preventDefault(),c.classList.remove('overlay--show'),d.classList.remove('feedback--show'),d.classList.remove('feedback-error')}),g.addEventListener('submit',function(j){f.value&&h.value?localStorage.setItem('name',f.value):(j.preventDefault(),d.classList.add('feedback-error'))}),window.addEventListener('keydown',function(j){27===j.keyCode&&d.classList.contains('feedback--show')&&d.classList.remove('feedback--show')})};document.addEventListener('DOMContentLoaded',ready);
